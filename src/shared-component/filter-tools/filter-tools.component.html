<div>
    <ng-container *ngFor="let block of filterConfig;let first = first">
        <ng-container *ngIf="first">
            <div class="select-block">
                <div class="select-item" *ngFor="let item of block">
                    <div class="select-lable">{{item.lable}}</div>
                    <div>
                        <ng-container *ngIf="item.type==='select'">
                            <nz-select [nzDropdownMatchSelectWidth]="false" style="width:120px;"
                                [(ngModel)]="item.value" name="value" [nzPlaceHolder]="item.placeholder||''"
                                [nzAllowClear]="item.clear" (ngModelChange)="modelChange(item.field)">
                                <nz-option [nzLabel]="option[item.optLable]||option.lable"
                                    [nzValue]="option[item.optValue]||option.value" *ngFor="let option of item.option">
                                </nz-option>
                            </nz-select>
                        </ng-container>
                        <ng-container *ngIf="item.type==='input'">
                            <input nz-input [(ngModel)]="item.value" [placeholder]="item.placeholder||''"
                                (ngModelChange)="modelChange(item.field)">
                        </ng-container>
                        <ng-container *ngIf="item.type==='date'">
                            <nz-date-picker [(ngModel)]="item.value" (ngModelChange)="modelChange(item.field)"
                                [nzAllowClear]="item.clear" [nzDisabledDate]="item.disabledDate">
                            </nz-date-picker>
                        </ng-container>
                        <ng-container *ngIf="item.type==='month'">
                            <nz-month-picker [(ngModel)]="item.value" (ngModelChange)="modelChange(item.field)"
                                [nzAllowClear]="item.clear" [nzDisabledDate]="item.disabledDate">
                            </nz-month-picker>
                        </ng-container>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>
</div>

<ng-container *ngIf="filterConfig.length>1">
    <nz-collapse [nzBordered]="false">
        <nz-collapse-panel #p [nzHeader]="panel.name" [nzActive]="panel.active" [ngStyle]="panel.customStyle"
            [nzExpandedIcon]="panel.icon">
            <div>
                <ng-container *ngFor="let block of filterConfig;let first = first">
                    <ng-container *ngIf="!first">
                        <div class="select-block">
                            <div class="select-item" *ngFor="let item of block">
                                <div class="select-lable">{{item.lable}}</div>
                                <div>
                                    <ng-container *ngIf="item.type==='select'">
                                        <nz-select [nzDropdownMatchSelectWidth]="false" style="width:120px;"
                                            [(ngModel)]="item.value" name="value" [nzPlaceHolder]="item.placeholder||''"
                                            [nzAllowClear]="item.clear" (ngModelChange)="modelChange(item.field)">
                                            <nz-option [nzLabel]="option[item.optLable]||option.lable"
                                                [nzValue]="option[item.optValue]||option.value"
                                                *ngFor="let option of item.option">
                                            </nz-option>
                                        </nz-select>
                                    </ng-container>
                                    <ng-container *ngIf="item.type==='input'">
                                        <input nz-input [(ngModel)]="item.value" [placeholder]="item.placeholder||''"
                                            (ngModelChange)="modelChange(item.field)">
                                    </ng-container>
                                    <ng-container *ngIf="item.type==='date'">
                                        <nz-date-picker [(ngModel)]="item.value"
                                            (ngModelChange)="modelChange(item.field)" [nzAllowClear]="item.clear"
                                            [nzDisabledDate]="item.disabledDate">
                                        </nz-date-picker>
                                    </ng-container>
                                    <ng-container *ngIf="item.type==='month'">
                                        <nz-month-picker [(ngModel)]="item.value"
                                            (ngModelChange)="modelChange(item.field)" [nzAllowClear]="item.clear"
                                            [nzDisabledDate]="item.disabledDate">
                                        </nz-month-picker>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
            <ng-template #expandedIcon let-active>
                {{ active }}
                <i nz-icon nzType="caret-right" class="ant-collapse-arrow" [nzRotate]="p.nzActive ? 90 : -90"></i>
            </ng-template>
        </nz-collapse-panel>
    </nz-collapse>
</ng-container>


<!-- <div>
    <div class="select-block" *ngFor="let block of filterConfig">
        <div class="select-item" *ngFor="let item of block">
            <div class="select-lable">{{item.lable}}</div>
            <div>
                <ng-container *ngIf="item.type==='select'">
                    <nz-select [nzDropdownMatchSelectWidth]="false" style="width:120px;" [(ngModel)]="item.value"
                        name="value" [nzPlaceHolder]="item.placeholder||''" [nzAllowClear]="item.clear"
                        (ngModelChange)="modelChange(item.field)">
                        <nz-option [nzLabel]="option[item.optLable]||option.lable" [nzValue]="option[item.optValue]||option.value"
                            *ngFor="let option of item.option">
                        </nz-option>
                    </nz-select>
                </ng-container>
                <ng-container *ngIf="item.type==='input'">
                    <input nz-input [(ngModel)]="item.value" [placeholder]="item.placeholder||''"
                        (ngModelChange)="modelChange(item.field)">
                </ng-container>
                <ng-container *ngIf="item.type==='date'">
                    <nz-date-picker [(ngModel)]="item.value" (ngModelChange)="modelChange(item.field)"
                        [nzAllowClear]="item.clear" [nzDisabledDate]="item.disabledDate">
                    </nz-date-picker>
                </ng-container>
                <ng-container *ngIf="item.type==='month'">
                    <nz-month-picker [(ngModel)]="item.value" (ngModelChange)="modelChange(item.field)"
                        [nzAllowClear]="item.clear" [nzDisabledDate]="item.disabledDate">
                    </nz-month-picker>
                </ng-container>
            </div>
        </div>
    </div>

</div> -->
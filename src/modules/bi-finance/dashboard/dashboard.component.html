<nz-page-header nzBackIcon>
  <nz-page-header-title>选择模版

  </nz-page-header-title>
  <nz-page-header-subtitle>
    <div>
      <nz-steps>
        <nz-step nzTitle="选择模版" nzStatus="process" nzIcon="loading"></nz-step>
        <nz-step nzTitle="录入数据" nzStatus="wait" nzIcon="solution"></nz-step>
        <nz-step nzTitle="生成报表" nzStatus="wait" nzIcon="solution"></nz-step>
        <nz-step nzTitle="驾驶舱" nzStatus="wait" nzIcon="solution"></nz-step>
        <!-- <ng-template #iconTemplate><i nz-icon nzType="smile"></i></ng-template> -->
      </nz-steps>
    </div>
  </nz-page-header-subtitle>
</nz-page-header>

<div class="wrap" style="background: #ECECEC; width: 100%; height: 100%;">
  <div style="background: #ECECEC;padding:10px; display: inline-block; width: 25%;  margin-bottom: 20px;"
    *ngFor="let item of template">
    <!-- <nz-card style="width:100%; height: 300px;  margin-right: 20px; " [nzTitle]="item.type == 1? '已解锁': '待解锁'"
      [nzExtra]="extraTemplate">
      <h3 style="z-index: 9;">{{item.name}}模块</h3>
      <img *ngIf="item.type == 2" src="../../../assets/img/BI/lock.png"
        style="position: absolute; width: 40%; height: 40%;left: 35%; top: 35%;" alt="">
    </nz-card> -->
    <nz-card nzHoverable [nzCover]="coverTemplate"
      style="width: 78%; height: 380px; border-radius: 29px 29px 29px 29px; position: relative;">
      <nz-card-meta nzTitle="{{item.name}}模块">
        
      </nz-card-meta>
      <img  *ngIf="item.type == 2" src="../../../assets/img/BI/lock.png" style="width: 30px; position: absolute; top: 80%; right: 10px;" alt="">
      <div *ngIf="item.type == 1" style="
      width:100%; height:60px;opacity:1;border-radius:13px; text-align: center; line-height: 60px;">
      <button nz-button nzType="primary" [nzSize]="large" style="margin-right: 10%;"
       (click)="goReport(item.cate)" >报表</button>
      <button nz-button nzType="primary" [nzSize]="large" (click)="goCockpit(item.cate)">驾驶舱</button>
      </div>
      <div *ngIf="item.type == 2" style="
      width:100%; height:60px;opacity:1;border-radius:13px; text-align: center; line-height: 60px;">
        
        <button nz-button nzType="default" (click)="showModel(item.name,item.type)" [nzSize]=" large"
          style="margin-right: 10%;">报表</button>
        <button nz-button nzType="default" (click)="showModel(item.name,item.type)" [nzSize]=" large">驾驶舱</button>
      </div>
    </nz-card>
    <ng-template #coverTemplate>
      <img (click)="goEnterData(item.name,item.type)" alt="example" [src]="item.img"
        style="border-radius: 29px  29px   0px  0px; height: 240px;" />
    </ng-template>

  </div>
</div>
<nz-modal [(nzVisible)]="isVisible" nzTitle="录入数据" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
  暂无数据可生成报表和驾驶舱，请先录入数据
</nz-modal>